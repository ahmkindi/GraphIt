@page "/"
@inherits IndexBase
@if (Browser == null)
{
    SVGControl.Width = 0;
    SVGControl.Height = 0;
}
else
{
    SVGControl.Width = Browser.Width * SVGControl.Scale;
    SVGControl.Height = Browser.Height * SVGControl.Scale;
}

@if (InitialModal)
{
    <InitialModal DefaultOptions="DefaultOptions" OnClose="OnInitialClose"></InitialModal>
}


<NavBar @bind-Choice="Choice"></NavBar>


@if (Choice != null)
{
    switch (Choice)
    {
        case NavChoice.File:
            <File DefaultOptions="DefaultOptions" SVGControl="SVGControl" @bind-Nodes="Nodes" @bind-Edges="Edges"></File>
            break;
        case NavChoice.Home:
            <Home @bind-Rep="Rep" @bind-StartAlgorithm="StartAlgorithm"></Home>
            break;
        case NavChoice.Insert:
            <Insert @bind-GraphMode="GraphMode" DefaultOptions="DefaultOptions" @bind-Nodes="Nodes" @bind-Edges="Edges" SVGControl="SVGControl"></Insert>
            break;
        case NavChoice.View:
            <View @bind-SVGControl="SVGControl" Nodes="Nodes" Browser="Browser"></View>
            break;
        case NavChoice.Node:
            <NodeOptions @bind-ActiveNodes="ActiveNodes" @bind-DefaultOptions="DefaultOptions" @bind-SVGControl="SVGControl" @bind-Nodes="Nodes"></NodeOptions>
            break;
        case NavChoice.Edge:
            <EdgeOptions @bind-ActiveEdges="ActiveEdges" @bind-DefaultOptions="DefaultOptions"></EdgeOptions>
            break;
        case NavChoice.About:
            break;
    }
}
@if (Rep == Representation.Matrix || Rep == Representation.WeightedMatrix)
{
    <AdjMatrix @bind-Rep="Rep" DefaultOptions="DefaultOptions" @bind-Nodes="Nodes" @bind-Edges="Edges"></AdjMatrix>
}
<Canvas @bind-ActiveNodes="ActiveNodes" @bind-Nodes="Nodes" @bind-ActiveEdges="ActiveEdges" @bind-Edges="Edges"
        ChangeMenu="UpdateChoice" DefaultOptions="DefaultOptions" GraphMode="GraphMode" @bind-SVGControl="SVGControl" @bind-StartAlgorithm="StartAlgorithm"></Canvas>
<Footer GraphMode="GraphMode" DefaultOptions="DefaultOptions" Nodes="Nodes" Edges="Edges"></Footer>
