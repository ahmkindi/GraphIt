@inherits HomeBase

<nav class="navbar sticky-top navbar-expand navbar-custom py-0 px-0">
    <div class="d-flex">
        <div class="dropdown px-1">
            <button class="btn shadow-none NavNone dropdown-toggle" type="button" id="repre" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Representations
            </button>
            <div class="dropdown-menu" aria-labelledby="repre">
                <a class="dropdown-item" @onclick="OnMatrixClick">Adjacency Matrix</a>
                <a class="dropdown-item" @onclick="OnWeightMatrixClick">Weighted Matrix</a>
            </div>
        </div>
        <div class="dropdown px-1">
            <button class="btn shadow-none NavNone dropdown-toggle" type="button" id="saveas" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Save As
            </button>
            <div class="dropdown-menu" aria-labelledby="saveas">
                <a class="dropdown-item" @onclick="() => SaveSVGFile(true)">screen view SVG</a>
                <a class="dropdown-item" @onclick="() => SaveSVGFile(false)">full view SVG</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" @onclick="SaveGraphItFile">Graph File</a>
            </div>
        </div>
        <div class="px-1">
            <button class="btn NavNone shadow-non" @onclick="(() => OpenPreference = true)">Open</button>
        </div>
        <div class="px-1">
            <button class="btn NavNone shadow-non" @onclick="(() => NewGraphCheck = true)">New</button>
        </div>
    </div>
</nav>
@if (ErrorOpening)
{
    <SfDialog Width="300px" IsModal="true">
        <DialogTemplates>
            <Content>
                <p class="text-danger text-center">Oops, I couldn't read the file you chose</p>
                <SfButton CssClass="e-success" @onclick="(() => ErrorOpening = false)">OK</SfButton>
            </Content>
        </DialogTemplates>
    </SfDialog>
}
@if (NewGraphCheck)
{
    <SfDialog Width="300px" IsModal="true">
        <DialogTemplates>
            <Content>
                <p class="text-danger text-center">Are you sure you want to restart? Make sure you save your progress</p>
                <SfButton CssClass="e-success" @onclick="SaveGraphItFile">Save Graph</SfButton>
                <SfButton CssClass="e-danger" @onclick="NewGraph">New Graph</SfButton>
                <SfButton CssClass="e-warning" @onclick="(() => NewGraphCheck = false)">Cancel</SfButton>
            </Content>
        </DialogTemplates>
    </SfDialog>
}
@if (OpenPreference)
{
    <SfDialog Width="300px" IsModal="true">
        <DialogTemplates>
            <Content>
                <p class="text-info text-center">Would you like to overwrite the current graph? or open it with the current graph?</p>
                <label for="FileUpload" class="btn shadow-none btn-danger">
                    Overwrite
                </label>
                <InputFile id="FileUpload" OnChange="(e) => OpenGraphItFile(e, true)" accept=".graphit" />
                <label for="FileUpload2" class="btn shadow-none btn-info">
                    Together
                </label>
                <InputFile id="FileUpload2" OnChange="(e) => OpenGraphItFile(e, false)" accept=".graphit" />
            </Content>
        </DialogTemplates>
    </SfDialog>
}